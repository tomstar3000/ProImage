(function(n){var i=(n.Aurigma||(n.Aurigma={__namespace:!0}))&&(n.Aurigma.ImageUploader||(n.Aurigma.ImageUploader={__namespace:!0})),f,e,r,u;i.installationProgress=function(n){if(!(this instanceof i.installationProgress))return new i.installationProgress(n);this._uploader=n,this._showDownloadingScreen=this._showInstallationScreen=!0,i.browser.isAfterFF17&&(this._showDownloadingScreen=this._showInstallationScreen=!1),n.registerCallback("activeXBeforeOpenTagRender",this.onActiveXBeforeOpenTagRender,this),n.registerCallback("activeXBeforeCloseTagRender",this.onActiveXBeforeCloseTagRender,this),n.registerCallback("activeXAfterCloseTagRender",this.onActiveXAfterCloseTagRender,this),n.registerCallback("javaBeforeOpenTagRender",this.onJavaBeforeOpenTagRender,this),n.registerCallback("javaAfterCloseTagRender",this.onJavaAfterCloseTagRender,this),n.registerCallback("javaRenderStyleAttribute",this.onJavaRenderStyleAttribute,this),n.registerCallback("javaBeforeCloseTagRender",this.onJavaBeforeCloseTagRender,this),n.registerCallback("flashBeforeOpenTagRender",this.onFlashBeforeOpenTagRender,this),n.registerCallback("flashRenderStyleAttribute",this.onFlashRenderStyleAttribute,this),n.registerCallback("flashAfterCloseTagRender",this.onFlashAfterCloseTagRender,this),n.registerCallback("flashBeforeCloseTagRender",this.onFlashBeforeCloseTagRender,this),this._splashscreentimeout=3e4;var r=n.id(),u=n.type(),t=function(){var t=document.getElementById(r+"-progress"),n=document.getElementById(r);t&&(t.style.display="none"),n&&(n.style.position="",n.style.left="0",n.style.visibility="",u=="java"&&n.UpdateApplet())};n.events().initComplete().add(t),setTimeout(t,this._splashscreentimeout),this._progressCssClass="au-ip-progress",this._instructionsCssClass="au-ip-instructions",this._commonHtml="<p>Aurigma Upload Suite control is necessary to upload your files quickly and easily. You will be able to select multiple images in user-friendly interface instead of clumsy input fields with <strong>Browse</strong> button.</p>",this._progressHtml='<p><img src="{0}" /><br />Loading Aurigma Upload Suite...</p>',this._flashProgressHtml='<p><img src="{0}" /><br />Loading Aurigma Upload Suite...</p>',this._progressImageUrl="Scripts/InstallationProgress.gif",this._beforeIE6XPSP2ProgressHtml="<p>To install Aurigma Upload Suite, please wait until the control is loaded and click the <strong>Yes</strong> button when you see the installation dialog.</p>",this._beforeIE6XPSP2InstructionsHtml="<p>To install Aurigma Upload Suite, please reload the page and click the <strong>Yes</strong> button when you see the control installation dialog. If you don't see installation dialog, please check your security settings.</p>",this._IE6XPSP2ProgressHtml="<p>Please wait until the control is loaded.</p>",this._IE6XPSP2InstructionsHtml="<p>To install Aurigma Upload Suite, please click on the <strong>Information Bar</strong> and select <strong>Install ActiveX Control</strong> from the dropdown menu. After the page is reloaded click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>",this._IE7ProgressHtml=this._IE6XPSP2ProgressHtml,this._IE7InstructionsHtml="<p>To install Aurigma Upload Suite, please click on the <strong>Information Bar</strong> and select <strong>Install ActiveX Control</strong> or <strong>Run ActiveX Control</strong> from the dropdown menu.</p><p>Then either click <strong>Run</strong> or after the page is reloaded click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>",this._IE8ProgressHtml=this._IE6XPSP2ProgressHtml,this._IE8InstructionsHtml="<p>To install Aurigma Upload Suite, please click on the <strong>Information Bar</strong> and select <strong>Install This Add-on</strong> or <strong>Run Add-on</strong> from the dropdown menu.</p><p>Then either click <strong>Run</strong> or after the page is reloaded click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>",this._IE9ProgressHtml=this._IE6XPSP2ProgressHtml,this._IE9InstructionsHtml="<p>To install Aurigma Upload Suite, please click <strong>Allow</strong> or <strong>Install</strong> on the <strong>Notification Bar</strong> at the bottom of the page.</p><p>Then after the page is reloaded click <strong>Install</strong> on the control installation dialog. If you don't see Notification Bar, please try to reload the page and/or check your security settings (ActiveX controls should be enabled).</p>",this._chromeProgressHtml="<p>Aurigma Upload Suite requires Java plug-in. Please, click <strong>Run this time</strong> or <strong>Always run on this site</strong> to let Java plug-in run.</p>",this._altInstallerHtml="",this._updateInstructions="You need to update Aurigma Upload Suite control. Click <strong>Install</strong> or <strong>Run</strong> button when you see the control installation dialog. If you don't see installation dialog, please try to reload the page.",this._macInstallJavaHtml='<p>Use the <a href="http://support.apple.com/kb/HT1338">Software Update</a> feature (available on the Apple menu) to check that you have the most up-to-date version of Java for your Mac.</p>',this._macChromeInstallJavaHtml="Browser is not supported",this._installJavaHtml='<p>Please <a href="http://www.java.com/getjava/">download</a> and install Java.</p>',this._installFlashPlayerHtml="<p>You need to install Flash Player for running Aurigma Upload Suite. Download latest version from <a href='http://www.adobe.com/go/getflashplayer' title='Download Flash Player'>here</a>.</p>"},i.installationProgress.prototype.__class=!0,i.installationProgress.prototype.onActiveXBeforeOpenTagRender=function(n,t){this.showDownloadingScreen()&&(t.resultHtml=this._createProgressScreen(n,"ax"))},i.installationProgress.prototype.onActiveXAfterCloseTagRender=function(n,t){this.showDownloadingScreen()&&n.activeXControl().isActiveXSupported()&&(t.resultHtml="</div>")},i.installationProgress.prototype.onActiveXBeforeCloseTagRender=function(n,t){var r,f,u;this.showInstallationScreen()&&(r=[],r.push("<div "),r.push('id="'+n.id()+'-install-bg"'),r.push(' style="background-color:#fff;position:relative;z-index:1000;">'),r.push("<div "),r.push('id="'+n.id()+'-install"'),f=n.width(),u=n.height(),f=parseInt(f)+""==f?f+"px":f,u=parseInt(u)+""==u?u+"px":u,r.push(' style="margin:0;padding:0;border:0 none;overflow: hidden;width:'+f+";height:"+u+'"'),this._instructionsCssClass&&r.push(' class="'+this._instructionsCssClass+'"'),r.push(">"),r.push(this._commonHtml),n.activeXControl().getActiveXInstalledToUpdate()?r.push(this._updateInstructions):(i.browser.isBeforeIE6XPSP2?r.push(this._beforeIE6XPSP2InstructionsHtml):i.browser.isIE6XPSP2?r.push(this._IE6XPSP2InstructionsHtml):i.browser.isIE7?r.push(this._IE7InstructionsHtml):i.browser.isIE8?r.push(this._IE8InstructionsHtml):i.browser.isIE9?r.push(this._IE9InstructionsHtml):r.push(this._IE9InstructionsHtml),this._altInstallerHtml&&r.push(this._altInstallerHtml)),r.push("</div>"),r.push("</div>"),t.resultHtml=r.join(""))},i.installationProgress.prototype.onJavaAfterCloseTagRender=function(n,t){this.showDownloadingScreen()&&n.javaControl().isJavaSupported()&&(t.resultHtml="</div>"),this.showInstallationScreen()&&i.browser.isOpera&&!n.javaControl().isJavaSupported()&&i.javaDetector.getJREs().length>0&&(t.resultHtml+=" -->")},i.installationProgress.prototype.onJavaBeforeCloseTagRender=function(n,t){var r,f,u,e;this.showInstallationScreen()&&(r=[],r.push("<div "),r.push('id="'+n.id()+'-install-bg"'),r.push(' style="background-color:#fff;position:relative;z-index:1000;">'),r.push("<div "),r.push('id="'+n.id()+'-install"'),f=n.width(),u=n.height(),f=parseInt(f)+""==f?f+"px":f,u=parseInt(u)+""==u?u+"px":u,r.push(' style="margin:0;padding:0;border:0 none;overflow:hidden;width:'+f+";height:"+u+'"'),this._instructionsCssClass&&r.push(' class="'+this._instructionsCssClass+'"'),r.push(">"),navigator.platform.toLowerCase().indexOf("mac")>-1?i.browser.isMacBefore107?r.push(this._macInstallJavaHtml):i.browser.isChrome?r.push(this._macChromeInstallJavaHtml):r.push(this._installJavaHtml):r.push(this._installJavaHtml),i.browser.isIE||!0||(e=n.javaControl().javaVersionRequired,e=e[0]+"."+e[1],r.push('<embed code="empty.class" width="0" height="0" java_version="'+e+'+" type="application/x-java-applet;version='+e+'" pluginspage="http://javadl.sun.com/webapps/download/GetFile/1.6.0_16-b01/windows-i586/xpiinstall.exe"></embed>')),r.push("</div>"),r.push("</div>"),t.resultHtml=r.join(""))},i.installationProgress.prototype.onJavaBeforeOpenTagRender=function(n,t){this.showDownloadingScreen()&&n.javaControl().isJavaSupported()&&(t.resultHtml=this._createProgressScreen(n,"j"));if(this.showInstallationScreen()&&i.browser.isOpera&&!n.javaControl().isJavaSupported()&&i.javaDetector.getJREs().length>0){this.onJavaBeforeCloseTagRender(n,t);t.resultHtml+="<!-- "}},i.installationProgress.prototype.onJavaRenderStyleAttribute=function(n,t){this.showDownloadingScreen()&&n.javaControl().isJavaSupported()&&(t.resultHtml=i.browser.isIE?"position:absolute;left:-10000px;":"visibility:hidden;")},i.installationProgress.prototype.onFlashAfterCloseTagRender=function(n,t){(this.showDownloadingScreen()&&!0||n.flashControl().isFlashSupported())&&(t.resultHtml="</div>"),this.showInstallationScreen()&&!n.flashControl().isFlashSupported()&&!i.browser.isIE&&i.flashDetector.detectVersion()[0]>-1&&(t.resultHtml=" -->")},i.installationProgress.prototype.onFlashBeforeOpenTagRender=function(n,t){this.showDownloadingScreen()&&n.flashControl().isFlashSupported()&&(t.resultHtml=this._createProgressScreen(n,"f"));if(this.showInstallationScreen()&&!n.flashControl().isFlashSupported()&&!i.browser.isIE&&i.flashDetector.detectVersion()[0]>-1){this.onFlashBeforeCloseTagRender(n,t);t.resultHtml+="<!-- "}},i.installationProgress.prototype.onFlashRenderStyleAttribute=function(n,t){this.showDownloadingScreen()&&n.flashControl().isFlashSupported()&&(t.resultHtml=i.browser.isIE?"position:absolute;left:-10000px;":"visibility:hidden;")},i.installationProgress.prototype.onFlashBeforeCloseTagRender=function(n,t){var r,f,u;this.showInstallationScreen()&&(r=[],r.push("<div "),r.push('id="'+n.id()+'-install"'),f=n.width(),u=n.height(),f=parseInt(f)+""==f?f+"px":f,u=parseInt(u)+""==u?u+"px":u,r.push(' style="margin:0;padding:0;border:0 none;position:relative;z-index:1000;overflow:hidden;width:'+f+";height:"+u+'"'),this._instructionsCssClass&&r.push(' class="'+this._instructionsCssClass+'"'),r.push(">"),r.push(this._installFlashPlayerHtml),r.push("</div>"),i.browser.isIE||r.push('<object width="0" height="0" type="application/x-shockwave-flash"></object>'),r.push("</div>"),t.resultHtml=r.join(""))},i.installationProgress.prototype._createProgressScreen=function(n,t){var r=[],u,e=n.width(),o=/^(\d+)([^0-9]+)?$/,f;return(u=o.exec(e))?(u[2]=="%"&&n.width("100%"),u[2]||(e+="px")):showWarning("InstallationProgress: Can not parse uploader width: "+e),f=n.height(),(u=o.exec(f))?(u[2]=="%"&&n.height("100%"),u[2]||(f+="px")):showWarning("InstallationProgress: Can not parse uploader height: "+f),r.push("<div "),r.push(' style="position: relative;width:'+e+";height:"+f+';"'),r.push(">"),r.push("<div"),r.push(' id="'+n.id()+'-progress"'),r.push(' style="border:0 none;margin:0;padding:0;position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%"'),this._progressCssClass&&r.push(' class="'+this._progressCssClass+'"'),r.push(">"),t==="ax"?(r.push((this._progressHtml+"").replace("{0}",this._progressImageUrl)),r.push(this._commonHtml),n.activeXControl().getActiveXInstalledToUpdate()?r.push(this._updateInstructions):i.browser.isBeforeIE6XPSP2?r.push(this._beforeIE6XPSP2ProgressHtml):i.browser.isIE6XPSP2?r.push(this._IE6XPSP2ProgressHtml):i.browser.isIE7?r.push(this._IE7ProgressHtml):i.browser.isIE8?r.push(this._IE8ProgressHtml):i.browser.isIE9?r.push(this._IE9ProgressHtml):r.push(this._IE9ProgressHtml)):t==="j"?(r.push((this._progressHtml+"").replace("{0}",this._progressImageUrl)),(!i.browser.isMac108||$au.javaControl.prototype.getJava7Installed())&&r.push(this._commonHtml),i.browser.isChrome&&r.push(this._chromeProgressHtml)):t==="f"&&r.push((this._flashProgressHtml+"").replace("{0}",this._progressImageUrl)),r.push("</div>"),r.join("")},i.installationProgress.prototype.set=function(n){for(var t in n)n.hasOwnProperty(t)&&typeof this[t]=="function"&&this[t](n[t])},i.installationProgress.prototype._prop=function(n,t,i){if(i)this["_"+n]=t;else return this["_"+n]},i.installationProgress.prototype.showDownloadingScreen=function(){return this._prop("showDownloadingScreen",arguments[0],arguments.length)},i.installationProgress.prototype.showInstallationScreen=function(){return this._prop("showInstallationScreen",arguments[0],arguments.length)},i.installationProgress.prototype.progressCssClass=function(){return this._prop("progressCssClass",arguments[0],arguments.length)},i.installationProgress.prototype.instructionsCssClass=function(){return this._prop("instructionsCssClass",arguments[0],arguments.length)},i.installationProgress.prototype.commonHtml=function(){return this._prop("commonHtml",arguments[0],arguments.length)},i.installationProgress.prototype.progressHtml=function(){return this._prop("progressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.flashProgressHtml=function(){return this._prop("flashProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.progressImageUrl=function(){return this._prop("progressImageUrl",arguments[0],arguments.length)},i.installationProgress.prototype.beforeIE6XPSP2ProgressHtml=function(){return this._prop("beforeIE6XPSP2ProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.beforeIE6XPSP2InstructionsHtml=function(){return this._prop("beforeIE6XPSP2InstructionsHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE6XPSP2ProgressHtml=function(){return this._prop("IE6XPSP2ProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE6XPSP2InstructionsHtml=function(){return this._prop("IE6XPSP2InstructionsHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE7ProgressHtml=function(){return this._prop("IE7ProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE7InstructionsHtml=function(){return this._prop("IE7InstructionsHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE8ProgressHtml=function(){return this._prop("IE8ProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE8InstructionsHtml=function(){return this._prop("IE8InstructionsHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE9ProgressHtml=function(){return this._prop("IE9ProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.IE9InstructionsHtml=function(){return this._prop("IE9InstructionsHtml",arguments[0],arguments.length)},i.installationProgress.prototype.chromeProgressHtml=function(){return this._prop("chromeProgressHtml",arguments[0],arguments.length)},i.installationProgress.prototype.altInstallerHtml=function(){return this._prop("altInstallerHtml",arguments[0],arguments.length)},i.installationProgress.prototype.updateInstructions=function(){return this._prop("updateInstructions",arguments[0],arguments.length)},i.installationProgress.prototype.macInstallJavaHtml=function(){return this._prop("macInstallJavaHtml",arguments[0],arguments.length)},i.installationProgress.prototype.installJavaHtml=function(){return this._prop("installJavaHtml",arguments[0],arguments.length)},i.installationProgress.prototype.installFlashPlayerHtml=function(){return this._prop("installFlashPlayerHtml",arguments[0],arguments.length)},f=".au-ip-progress{background-color:#f5f5f5;text-align:center}\r\n.au-ip-instructions{background-color:#f5f5f5}\r\n.au-ip-progress p,.au-ip-instructions p{margin:10px}",e="au_installation_progress_style";try{r=document.getElementById(e);if(!r){r=document.createElement("style"),r.setAttribute("id",e),r.setAttribute("type","text/css");try{r.appendChild(document.createTextNode(f))}catch(o){r.styleSheet&&(r.styleSheet.cssText=f)}u=document.getElementsByTagName("head")[0],u&&u.insertBefore(r,u.firstChild)}}catch(o){}})(window)