(function(b){var a=b.Aurigma?b.Aurigma.ImageUploader||{}:{};a.installationProgress=function(b){if(!(this instanceof a.installationProgress))return new a.installationProgress(b);this._uploader=b;this._showDownloadingScreen=this._showInstallationScreen=true;b.registerCallback("activeXBeforeOpenTagRender",this.onActiveXBeforeOpenTagRender,this);b.registerCallback("activeXBeforeCloseTagRender",this.onActiveXBeforeCloseTagRender,this);b.registerCallback("activeXAfterCloseTagRender",this.onActiveXAfterCloseTagRender,this);b.registerCallback("javaBeforeOpenTagRender",this.onJavaBeforeOpenTagRender,this);b.registerCallback("javaAfterCloseTagRender",this.onJavaAfterCloseTagRender,this);b.registerCallback("javaRenderStyleAttribute",this.onJavaRenderStyleAttribute,this);b.registerCallback("javaBeforeCloseTagRender",this.onJavaBeforeCloseTagRender,this);b.registerCallback("flashBeforeOpenTagRender",this.onFlashBeforeOpenTagRender,this);b.registerCallback("flashRenderStyleAttribute",this.onFlashRenderStyleAttribute,this);b.registerCallback("flashAfterCloseTagRender",this.onFlashAfterCloseTagRender,this);b.registerCallback("flashBeforeCloseTagRender",this.onFlashBeforeCloseTagRender,this);this._splashscreentimeout=1.2e5;var c=b.id(),d=function(){var b=document.getElementById(c+"-progress"),a=document.getElementById(c);if(b)b.style.display="none";if(a){a.style.position="";a.style.left="0";a.style.visibility=""}};b.events().initComplete().add(d);setTimeout(d,this._splashscreentimeout);this._progressCssClass="";this._instructionsCssClass="";this._commonHtml="<p>Aurigma Image Uploader control is necessary to upload your files quickly and easily. You will be able to select multiple images in user-friendly interface instead of clumsy input fields with <strong>Browse</strong> button.</p>";this._progressHtml='<p><img src="{0}" /><br />Loading Aurigma Image Uploader...</p>';this._flashProgressHtml='<p><img src="{0}" /><br />Loading Aurigma Flash Uploader...</p>';this._progressImageUrl="Scripts/InstallationProgress.gif";this._beforeIE6XPSP2ProgressHtml="<p>To install Image Uploader, please wait until the control will be loaded and click the <strong>Yes</strong> button when you see the installation dialog.</p>";this._beforeIE6XPSP2InstructionsHtml="<p>To install Image Uploader, please reload the page and click the <strong>Yes</strong> button when you see the control installation dialog. If you don't see installation dialog, please check your security settings.</p>";this._IE6XPSP2ProgressHtml="<p>Please wait until the control will be loaded.</p>";this._IE6XPSP2InstructionsHtml="<p>To install Image Uploader, please click on the <strong>Information Bar</strong> and select <strong>Install ActiveX Control</strong> from the dropdown menu. After page reload click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>";this._IE7ProgressHtml=this._IE6XPSP2ProgressHtml;this._IE7InstructionsHtml="<p>To install Image Uploader, please click on the <strong>Information Bar</strong> and select <strong>Install ActiveX Control</strong> or <strong>Run ActiveX Control</strong> from the dropdown menu.</p><p>Then either click <strong>Run</strong> or after the page reload click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>";this._IE8ProgressHtml=this._IE6XPSP2ProgressHtml;this._IE8InstructionsHtml="<p>To install Image Uploader, please click on the <strong>Information Bar</strong> and select <strong>Install This Add-on</strong> or <strong>Run Add-on</strong> from the dropdown menu.</p><p>Then either click <strong>Run</strong> or after the page reload click <strong>Install</strong> when you see the control installation dialog. If you don't see Information Bar, please try to reload the page and/or check your security settings.</p>";this._altInstallerHtml="";this._updateInstructions="You need to update Image Uploader control. Click <strong>Install</strong> or <strong>Run</strong> button when you see the control installation dialog. If you don't see installation dialog, please try to reload the page.";this._macInstallJavaHtml='<p>Use the <a href="http://support.apple.com/kb/HT1338">Software Update</a> feature (available on the Apple menu) to check that you have the most up-to-date version of Java for your Mac.</p>';this._installJavaHtml='<p>Please <a href="http://www.java.com/getjava/">download</a> and install Java.</p>';this._installFlashPlayerHtml="<p>You need to install Flash Player for running Aurigma Flash Uploader. Download latest version from <a href='http://www.adobe.com/go/getflashplayer' title='Download Flash Player'>here</a>.</p>"};a.installationProgress.prototype.__class=true;a.installationProgress.prototype.onActiveXBeforeOpenTagRender=function(a,b){if(this.showDownloadingScreen())b.resultHtml=this._createProgressScreen(a,"ax")};a.installationProgress.prototype.onActiveXAfterCloseTagRender=function(a,b){if(this.showDownloadingScreen()&&a.activeXControl().isActiveXSupported())b.resultHtml="</div>"};a.installationProgress.prototype.onActiveXBeforeCloseTagRender=function(e,f){if(this.showInstallationScreen()){var b=[];b.push("<div ");b.push('id="'+e.id()+'-install-bg"');b.push(' style="background-color:#fff;position:relative;z-index:1000;">');b.push("<div ");b.push('id="'+e.id()+'-install"');var d=e.width(),c=e.height();d=parseInt(d)+""==d?d+"px":d;c=parseInt(c)+""==c?c+"px":c;b.push(' style="margin:0;padding:0;border:0 none;overflow: hidden;width:'+d+";height:"+c+'"');this._instructionsCssClass&&b.push(' class="'+this._instructionsCssClass+'"');b.push(">");b.push(this._commonHtml);if(e.activeXControl().getActiveXInstalledToUpdate())b.push(this._updateInstructions);else{if(a.browser.isBeforeIE6XPSP2)b.push(this._beforeIE6XPSP2InstructionsHtml);else if(a.browser.isIE6XPSP2)b.push(this._IE6XPSP2InstructionsHtml);else if(a.browser.isIE7)b.push(this._IE7InstructionsHtml);else b.push(this._IE8InstructionsHtml);this._altInstallerHtml&&b.push(this._altInstallerHtml)}b.push("</div>");b.push("</div>");f.resultHtml=b.join("")}};a.installationProgress.prototype.onJavaAfterCloseTagRender=function(b,c){if(this.showDownloadingScreen()&&b.javaControl().isJavaSupported())c.resultHtml="</div>";if(this.showInstallationScreen()&&a.browser.isOpera&&!b.javaControl().isJavaSupported()&&a.javaDetector.getJREs().length>0)c.resultHtml+=" -->"};a.installationProgress.prototype.onJavaBeforeCloseTagRender=function(f,g){if(this.showInstallationScreen()){var b=[];b.push("<div ");b.push('id="'+f.id()+'-install-bg"');b.push(' style="background-color:#fff;position:relative;z-index:1000;">');b.push("<div ");b.push('id="'+f.id()+'-install"');var d=f.width(),c=f.height();d=parseInt(d)+""==d?d+"px":d;c=parseInt(c)+""==c?c+"px":c;b.push(' style="margin:0;padding:0;border:0 none;overflow:hidden;width:'+d+";height:"+c+'"');this._instructionsCssClass&&b.push(' class="'+this._instructionsCssClass+'"');b.push(">");if(navigator.platform.toLowerCase().indexOf("mac")>-1)b.push(this._macInstallJavaHtml);else b.push(this._installJavaHtml);if(!a.browser.isIE&&false){var e=f.javaControl().javaVersionRequired;e=e[0]+"."+e[1];b.push('<embed code="empty.class" width="0" height="0" java_version="'+e+'+" type="application/x-java-applet;version='+e+'" pluginspage="http://javadl.sun.com/webapps/download/GetFile/1.6.0_16-b01/windows-i586/xpiinstall.exe"></embed>')}b.push("</div>");b.push("</div>");g.resultHtml=b.join("")}};a.installationProgress.prototype.onJavaBeforeOpenTagRender=function(b,c){if(this.showDownloadingScreen()&&b.javaControl().isJavaSupported())c.resultHtml=this._createProgressScreen(b,"j");if(this.showInstallationScreen()&&a.browser.isOpera&&!b.javaControl().isJavaSupported()&&a.javaDetector.getJREs().length>0){this.onJavaBeforeCloseTagRender(b,c);c.resultHtml+="<!-- "}};a.installationProgress.prototype.onJavaRenderStyleAttribute=function(c,b){if(this.showDownloadingScreen()&&c.javaControl().isJavaSupported())if(a.browser.isIE)b.resultHtml="position:absolute;left:-10000px;";else b.resultHtml="visibility:hidden;"};a.installationProgress.prototype.onFlashAfterCloseTagRender=function(b,c){if(this.showDownloadingScreen()&&true||b.flashControl().isFlashSupported())c.resultHtml="</div>";if(this.showInstallationScreen()&&!b.flashControl().isFlashSupported()&&!a.browser.isIE&&a.flashDetector.detectVersion()[0]>-1)c.resultHtml=" -->"};a.installationProgress.prototype.onFlashBeforeOpenTagRender=function(b,c){if(this.showDownloadingScreen()&&b.flashControl().isFlashSupported())c.resultHtml=this._createProgressScreen(b,"f");if(this.showInstallationScreen()&&!b.flashControl().isFlashSupported()&&!a.browser.isIE&&a.flashDetector.detectVersion()[0]>-1){this.onFlashBeforeCloseTagRender(b,c);c.resultHtml+="<!-- "}};a.installationProgress.prototype.onFlashRenderStyleAttribute=function(c,b){if(this.showDownloadingScreen()&&c.flashControl().isFlashSupported())if(a.browser.isIE)b.resultHtml="position:absolute;left:-10000px;";else b.resultHtml="visibility:hidden;"};a.installationProgress.prototype.onFlashBeforeCloseTagRender=function(e,f){if(this.showInstallationScreen()){var b=[];b.push("<div ");b.push('id="'+e.id()+'-install"');var d=e.width(),c=e.height();d=parseInt(d)+""==d?d+"px":d;c=parseInt(c)+""==c?c+"px":c;b.push(' style="margin:0;padding:0;border:0 none;position:relative;z-index:1000;overflow:hidden;width:'+d+";height:"+c+'"');this._instructionsCssClass&&b.push(' class="'+this._instructionsCssClass+'"');b.push(">");b.push(this._installFlashPlayerHtml);b.push("</div>");!a.browser.isIE&&b.push('<object width="0" height="0" type="application/x-shockwave-flash"></object>');b.push("</div>");f.resultHtml=b.join("")}};a.installationProgress.prototype._createProgressScreen=function(c,g){var b=[],d,f=c.width(),h=/^(\d+)([^0-9]+)?$/;if(d=h.exec(f)){d[2]=="%"&&c.width("100%");if(!d[2])f+="px"}else showWarning("InstallationProgress: Can not parse uploader width: "+f);var e=c.height();if(d=h.exec(e)){d[2]=="%"&&c.height("100%");if(!d[2])e+="px"}else showWarning("InstallationProgress: Can not parse uploader height: "+e);b.push("<div ");b.push(' style="position: relative;width:'+f+";height:"+e+';"');b.push(">");b.push("<div");b.push(' id="'+c.id()+'-progress"');b.push(' style="border:0 none;margin:0;padding:0;position:absolute;overflow:hidden;width:100%;height:100%"');this._progressCssClass&&b.push(' class="'+this._progressCssClass+'"');b.push(">");if(g==="ax"){b.push((this._progressHtml+"").replace("{0}",this._progressImageUrl));b.push(this._commonHtml);if(c.activeXControl().getActiveXInstalledToUpdate())b.push(this._updateInstructions);else if(a.browser.isBeforeIE6XPSP2)b.push(this._beforeIE6XPSP2ProgressHtml);else if(a.browser.isIE6XPSP2)b.push(this._IE6XPSP2ProgressHtml);else if(a.browser.isIE7)b.push(this._IE7ProgressHtml);else b.push(this._IE8ProgressHtml)}else if(g==="j"){b.push((this._progressHtml+"").replace("{0}",this._progressImageUrl));b.push(this._commonHtml)}else g==="f"&&b.push((this._flashProgressHtml+"").replace("{0}",this._progressImageUrl));b.push("</div>");return b.join("")};a.installationProgress.prototype._prop=function(a,c,b){if(b)this["_"+a]=c;else return this["_"+a]};a.installationProgress.prototype.showDownloadingScreen=function(){return this._prop("showDownloadingScreen",arguments[0],arguments.length)};a.installationProgress.prototype.showInstallationScreen=function(){return this._prop("showInstallationScreen",arguments[0],arguments.length)};a.installationProgress.prototype.progressCssClass=function(){return this._prop("progressCssClass",arguments[0],arguments.length)};a.installationProgress.prototype.instructionsCssClass=function(){return this._prop("instructionsCssClass",arguments[0],arguments.length)};a.installationProgress.prototype.commonHtml=function(){return this._prop("commonHtml",arguments[0],arguments.length)};a.installationProgress.prototype.progressHtml=function(){return this._prop("progressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.flashProgressHtml=function(){return this._prop("flashProgressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.progressImageUrl=function(){return this._prop("progressImageUrl",arguments[0],arguments.length)};a.installationProgress.prototype.beforeIE6XPSP2ProgressHtml=function(){return this._prop("beforeIE6XPSP2ProgressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.beforeIE6XPSP2InstructionsHtml=function(){return this._prop("beforeIE6XPSP2InstructionsHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE6XPSP2ProgressHtml=function(){return this._prop("IE6XPSP2ProgressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE6XPSP2InstructionsHtml=function(){return this._prop("IE6XPSP2InstructionsHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE7ProgressHtml=function(){return this._prop("IE7ProgressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE7InstructionsHtml=function(){return this._prop("IE7InstructionsHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE8ProgressHtml=function(){return this._prop("IE8ProgressHtml",arguments[0],arguments.length)};a.installationProgress.prototype.IE8InstructionsHtml=function(){return this._prop("IE8InstructionsHtml",arguments[0],arguments.length)};a.installationProgress.prototype.altInstallerHtml=function(){return this._prop("altInstallerHtml",arguments[0],arguments.length)};a.installationProgress.prototype.updateInstructions=function(){return this._prop("updateInstructions",arguments[0],arguments.length)};a.installationProgress.prototype.macInstallJavaHtml=function(){return this._prop("macInstallJavaHtml",arguments[0],arguments.length)};a.installationProgress.prototype.installJavaHtml=function(){return this._prop("installJavaHtml",arguments[0],arguments.length)};a.installationProgress.prototype.installFlashPlayerHtml=function(){return this._prop("installFlashPlayerHtml",arguments[0],arguments.length)};b.Aurigma=b.Aurigma||{__namespace:true};b.Aurigma.ImageUploader=a})(window)